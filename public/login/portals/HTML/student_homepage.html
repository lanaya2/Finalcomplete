<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>NoteNest â€“ Home</title>

  <!-- correct relative path -->
  <link rel="stylesheet" href="../../../main/styles.css">

  <style>
    body { padding: 2rem; }
    h1 { margin-bottom: .5rem; }
    .home-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 1.5rem;
      margin-top: 1.5rem;
    }
    .center { text-align: center; }
  </style>
</head>

<body>

  <h1>ðŸ“˜ NoteNest</h1>
  <p class="muted">Choose an option below to get started.</p>

  <div class="home-grid">

    <a href="quiz_creator.html" class="card btn center" style="display:block;">
      <h2>Create Quiz</h2>
    </a>

    <a href="quiz_list.html" class="card btn center" style="display:block;">
      <h2>Take Quiz</h2>
    </a>

    <a href="upload.html" class="card btn center" style="display:block;">
      <h2>Upload Study Materials</h2>
    </a>

    <a href="pdf_view.html" class="card btn center" style="display:block;">
      <h2>Study Materials</h2>
    </a>


    <button id="logoutBtn" class="card btn center" style="display:block;">
      <h2>Logout</h2>
    </button>

  </div>


  <script type="module">
    import { logoutUser } from "../../auth.js";
    import { auth } from "../../../main/firebase.js";
    import { signOut } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-auth.js";
    import {onAuthStateChanged} from "https://www.gstatic.com/firebasejs/12.5.0/firebase-auth.js";


    let userId = null;

        onAuthStateChanged(auth, (user) => {
    if (user) {
      userId = user.uid;
      console.log("User ID stored:", userId);
    } else {
      console.log("User not logged in. Redirecting to login page.");
      logoutUser();
    }
  });

    document.getElementById("logoutBtn").addEventListener("click", () => {
      signOut(auth).then(() => {
        window.location.href = "/public/login/portals/HTML/login.html";
      });
    });




  </script>

</body>
</html>
